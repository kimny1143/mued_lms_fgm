# 開発環境セキュリティガイドライン

## Next.js 14 開発サーバー脆弱性対策

### 概要
Next.js 13.0 - 15.2.1に存在する開発サーバーでの情報漏洩脆弱性（CVE-2024-52906）への対処方法を記載しています。

### 対策済み項目

#### 1. ネットワークアクセス制限
- 開発サーバーは`localhost`または`127.0.0.1`でのみ起動
- 外部ネットワークからのアクセスを制限

#### 2. セキュリティヘッダーの強化
- Content-Security-Policy（開発環境用）
- X-Frame-Options: SAMEORIGIN
- X-Content-Type-Options: nosniff

#### 3. 開発者向けベストプラクティス

##### 開発サーバー起動時の注意点
```bash
# 推奨：ローカルホストでの起動
npm run dev

# 避ける：外部アクセス可能な設定
npm run dev -- --host 0.0.0.0
```

##### 機密情報の取り扱い
- `.env.local`ファイルは適切に管理
- 本番環境の機密情報を開発環境で使用しない
- 開発用のテストデータを使用

##### ネットワーク設定
- VPN使用時は適切なファイアウォール設定
- 公共Wi-Fi等での開発時は特に注意

### 本番環境への影響
この脆弱性は**開発サーバーのみ**に影響し、本番環境には影響しません。

### 将来的な対応計画
- Next.js 15への移行は必要に応じて検討
- 脆弱性パッチが単独でリリースされた場合は適用を検討

### 緊急時の対応
開発中にセキュリティインシデントが疑われる場合：
1. 開発サーバーを即座に停止
2. ローカル環境のセキュリティチェック
3. 必要に応じて開発環境の再構築

### 参考リンク
- [Next.js Security Advisory](https://github.com/advisories/GHSA-3h52-269p-cp9r)
- [Next.js 15 Upgrade Guide](https://nextjs.org/docs/app/guides/upgrading/version-15) 